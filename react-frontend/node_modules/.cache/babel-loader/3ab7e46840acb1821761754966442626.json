{"ast":null,"code":"import { useEffect, useState } from \"react\";\nimport Home from \"../../components/home\";\nimport useFetch from \"../../useFetch\";\nimport * as actionTypes from \"./shopping-types\";\nconst INITIAL_STATE = {\n  products: [// {\n    //     \"id\": 1,\n    //     \"name\": \"Raptors Jersy 2022/23\",\n    //     \"slug\": \"Beverly Lynch\",\n    //     \"price\": 5000,\n    //     \"description\": \"Eos facilis et est exercitationem reiciendis. Fuga voluptatem sint nostrum deserunt totam nobis sunt et.\",\n    //     \"quantity\": \"Mrs. Allie Heathcote III\",\n    //     \"image\": \"https://media.bleacherreport.com/image/upload/w_800,h_533,c_fill/v1635774603/j2l6jcq4aq6cqbzqrtyy.jpg\",\n    //     \"featured\": 0,\n    //     \"created_at\": \"2022-10-10T00:52:11.000000Z\",\n    //     \"updated_at\": \"2022-10-10T00:52:11.000000Z\"\n    // }\n  ],\n  cart: [],\n  currentItem: null,\n  //\n  loading: true,\n  error: '' //\n\n};\n\nconst shopReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_STATE;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case actionTypes.ADD_TO_CART:\n      //get the items data the products array\n      const item = state.products.find(prod => prod.id === action.payload.id); //check if the item is in cart already\n\n      const inCart = state.cart.find(item => item.id === action.payload.id ? true : false);\n      return { ...state,\n        cart: inCart ? state.cart.map(item => item.id === action.payload.id ? { ...item,\n          qty: item.qty + 1\n        } : item) : [...state.cart, { ...item,\n          qty: 1\n        }]\n      };\n\n    case actionTypes.REMOVE_FROM_CART:\n      return { ...state,\n        cart: state.cart.filter(item => item.id !== action.payload.id)\n      };\n\n    case actionTypes.EMPTY_CART:\n      return { ...state,\n        cart: state.cart.filter(item => item.id === -1)\n      };\n\n    case actionTypes.ADJUST_QTY:\n      return { ...state,\n        cart: state.cart.map(item => item.id === action.payload.id ? { ...item,\n          qty: +action.payload.qty\n        } : item)\n      };\n\n    case actionTypes.LOAD_CURRENT_ITEM:\n      return { ...state,\n        currentItem: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default shopReducer;","map":{"version":3,"names":["useEffect","useState","Home","useFetch","actionTypes","INITIAL_STATE","products","cart","currentItem","loading","error","shopReducer","state","action","type","ADD_TO_CART","item","find","prod","id","payload","inCart","map","qty","REMOVE_FROM_CART","filter","EMPTY_CART","ADJUST_QTY","LOAD_CURRENT_ITEM"],"sources":["/home/bijen/Desktop/LaravelReact/react-frontend/src/redux/shopping/shopping-reducer.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport Home from \"../../components/home\";\nimport useFetch from \"../../useFetch\";\nimport * as actionTypes from \"./shopping-types\";\nconst INITIAL_STATE = {\n  products: [\n    // {\n    //     \"id\": 1,\n    //     \"name\": \"Raptors Jersy 2022/23\",\n    //     \"slug\": \"Beverly Lynch\",\n    //     \"price\": 5000,\n    //     \"description\": \"Eos facilis et est exercitationem reiciendis. Fuga voluptatem sint nostrum deserunt totam nobis sunt et.\",\n    //     \"quantity\": \"Mrs. Allie Heathcote III\",\n    //     \"image\": \"https://media.bleacherreport.com/image/upload/w_800,h_533,c_fill/v1635774603/j2l6jcq4aq6cqbzqrtyy.jpg\",\n    //     \"featured\": 0,\n    //     \"created_at\": \"2022-10-10T00:52:11.000000Z\",\n    //     \"updated_at\": \"2022-10-10T00:52:11.000000Z\"\n    // }\n],\n  cart: [],\n  currentItem: null,\n\n  //\nloading:true,\nerror:'',\n  //\n};\n\nconst shopReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n\n    case actionTypes.ADD_TO_CART:\n      //get the items data the products array\n      const item=state.products.find(prod=>prod.id===action.payload.id)\n      //check if the item is in cart already\n      const inCart=state.cart.find(item=>item.id===action.payload.id?true:false);\n      return {\n        ...state,\n        cart:inCart?state.cart.map(item=>item.id===action.payload.id?{...item,qty:item.qty+1}:item):[...state.cart,{...item,qty:1}]\n      };\n    case actionTypes.REMOVE_FROM_CART:\n      return {\n        ...state,\n        cart:state.cart.filter(item=>item.id!==action.payload.id)\n      };\n      case actionTypes.EMPTY_CART:\n      return {\n        ...state,\n        cart:state.cart.filter(item=>item.id===-1)\n      };\n    case actionTypes.ADJUST_QTY:\n      return {\n        ...state,\n        cart:state.cart.map(item=>item.id===action.payload.id?{...item,qty:+action.payload.qty}:item)\n      };\n    case actionTypes.LOAD_CURRENT_ITEM:\n      return {\n        ...state,\n        currentItem:action.payload\n      };\n    default:\n      return state;\n  }\n};\n\nexport default shopReducer;"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAO,KAAKC,WAAZ,MAA6B,kBAA7B;AACA,MAAMC,aAAa,GAAG;EACpBC,QAAQ,EAAE,CACR;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAZQ,CADU;EAepBC,IAAI,EAAE,EAfc;EAgBpBC,WAAW,EAAE,IAhBO;EAkBpB;EACFC,OAAO,EAAC,IAnBc;EAoBtBC,KAAK,EAAC,EApBgB,CAqBpB;;AArBoB,CAAtB;;AAwBA,MAAMC,WAAW,GAAG,YAAmC;EAAA,IAAlCC,KAAkC,uEAA1BP,aAA0B;EAAA,IAAXQ,MAAW;;EACrD,QAAQA,MAAM,CAACC,IAAf;IAEE,KAAKV,WAAW,CAACW,WAAjB;MACE;MACA,MAAMC,IAAI,GAACJ,KAAK,CAACN,QAAN,CAAeW,IAAf,CAAoBC,IAAI,IAAEA,IAAI,CAACC,EAAL,KAAUN,MAAM,CAACO,OAAP,CAAeD,EAAnD,CAAX,CAFF,CAGE;;MACA,MAAME,MAAM,GAACT,KAAK,CAACL,IAAN,CAAWU,IAAX,CAAgBD,IAAI,IAAEA,IAAI,CAACG,EAAL,KAAUN,MAAM,CAACO,OAAP,CAAeD,EAAzB,GAA4B,IAA5B,GAAiC,KAAvD,CAAb;MACA,OAAO,EACL,GAAGP,KADE;QAELL,IAAI,EAACc,MAAM,GAACT,KAAK,CAACL,IAAN,CAAWe,GAAX,CAAeN,IAAI,IAAEA,IAAI,CAACG,EAAL,KAAUN,MAAM,CAACO,OAAP,CAAeD,EAAzB,GAA4B,EAAC,GAAGH,IAAJ;UAASO,GAAG,EAACP,IAAI,CAACO,GAAL,GAAS;QAAtB,CAA5B,GAAqDP,IAA1E,CAAD,GAAiF,CAAC,GAAGJ,KAAK,CAACL,IAAV,EAAe,EAAC,GAAGS,IAAJ;UAASO,GAAG,EAAC;QAAb,CAAf;MAFvF,CAAP;;IAIF,KAAKnB,WAAW,CAACoB,gBAAjB;MACE,OAAO,EACL,GAAGZ,KADE;QAELL,IAAI,EAACK,KAAK,CAACL,IAAN,CAAWkB,MAAX,CAAkBT,IAAI,IAAEA,IAAI,CAACG,EAAL,KAAUN,MAAM,CAACO,OAAP,CAAeD,EAAjD;MAFA,CAAP;;IAIA,KAAKf,WAAW,CAACsB,UAAjB;MACA,OAAO,EACL,GAAGd,KADE;QAELL,IAAI,EAACK,KAAK,CAACL,IAAN,CAAWkB,MAAX,CAAkBT,IAAI,IAAEA,IAAI,CAACG,EAAL,KAAU,CAAC,CAAnC;MAFA,CAAP;;IAIF,KAAKf,WAAW,CAACuB,UAAjB;MACE,OAAO,EACL,GAAGf,KADE;QAELL,IAAI,EAACK,KAAK,CAACL,IAAN,CAAWe,GAAX,CAAeN,IAAI,IAAEA,IAAI,CAACG,EAAL,KAAUN,MAAM,CAACO,OAAP,CAAeD,EAAzB,GAA4B,EAAC,GAAGH,IAAJ;UAASO,GAAG,EAAC,CAACV,MAAM,CAACO,OAAP,CAAeG;QAA7B,CAA5B,GAA8DP,IAAnF;MAFA,CAAP;;IAIF,KAAKZ,WAAW,CAACwB,iBAAjB;MACE,OAAO,EACL,GAAGhB,KADE;QAELJ,WAAW,EAACK,MAAM,CAACO;MAFd,CAAP;;IAIF;MACE,OAAOR,KAAP;EAhCJ;AAkCD,CAnCD;;AAqCA,eAAeD,WAAf"},"metadata":{},"sourceType":"module"}